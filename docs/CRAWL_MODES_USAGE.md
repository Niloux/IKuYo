# 爬虫模式用法说明

本项目支持多种爬虫模式，满足不同追番需求。各模式说明如下：

## 1. 首页模式（homepage）
- **用途**：采集 Mikan 首页推荐的最新/热门番剧。
- **适用场景**：只需关注近期热门或首页展示的番剧。
- **命令示例**：
  ```bash
  python scripts/run_crawler.py
  # 或
  python scripts/run_crawler.py --mode homepage
  ```
- **参数**：无特殊参数

## 2. 按年模式（year）
- **用途**：采集指定年份的所有季度番剧。
- **适用场景**：需要获取某一年内全部番剧资源。
- **命令示例**：
  ```bash
  python scripts/run_crawler.py --mode year --year 2024
  ```
- **参数**：
  - `--year`：指定年份（如 2024）

## 3. 按季模式（season）
- **用途**：采集指定年份某季度的番剧。
- **适用场景**：只关注某年某季（如 2024 年春季）的新番。
- **命令示例**：
  ```bash
  python scripts/run_crawler.py --mode season --year 2024 --season 春
  ```
- **参数**：
  - `--year`：指定年份
  - `--season`：指定季度（春、夏、秋、冬）

## 4. 全量模式（full）
- **用途**：采集 2013-2025 年所有番剧。
- **适用场景**：需要构建完整番剧数据库或首次全量采集。
- **命令示例**：
  ```bash
  python scripts/run_crawler.py --mode full
  ```
- **参数**：无
- **注意**：数据量大，耗时长，建议仅首次或定期全量更新时使用。

## 5. 增量模式（incremental）
- **用途**：仅采集自上次爬取以来新增或更新的番剧。
- **适用场景**：日常定时更新，节省资源。
- **命令示例**：
  ```bash
  python scripts/run_crawler.py --mode incremental
  ```
- **参数**：无
- **说明**：依赖配置中的 `last_crawl_time` 字段。

## 6. 其他常用参数
- `--limit`：限制采集番剧数量（如 `--limit 5`）
- `--start-url`：指定起始番剧详情页 URL，采集单个番剧
- `--output`：指定输出文件路径（JSON 格式）
- `--log-level`：日志级别（DEBUG/INFO/WARNING/ERROR）
- `--config`：指定配置文件路径

## 7. 模式选择建议
- 日常追新番：推荐"首页模式"或"增量模式"
- 补全历史番剧：推荐"按年模式"或"全量模式"
- 只关注某季度：推荐"按季模式"

## 8. 常见问题
- 参数缺失或错误会有详细提示，请根据提示补全参数。
- 全量/按年模式数据量大，建议在网络和存储充足时运行。
- 如需定时自动采集，建议结合定时任务调度使用。
